<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Dockerfile 작성먼저 Dockerfile을 작성한다. 12345678FROM node:ltsRUN mkdir /my-hexoWORKDIR /my-hexoRUN npm install hexo-cli -g &amp;amp;&amp;amp; npm install hexo-generator-sitemap --saveENTRYPOINT [ &quot;/bin/bash&quot;, &quot;-c&quot;,">
<meta name="keywords" content="Docker,Hexo">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo, 로컬에서 도커 컨테이너로 실행하기">
<meta property="og:url" content="https://jheloper.github.io/2019/02/run-hexo-with-docker/index.html">
<meta property="og:site_name" content="Jheloper&#39;s Dev Log">
<meta property="og:description" content="Dockerfile 작성먼저 Dockerfile을 작성한다. 12345678FROM node:ltsRUN mkdir /my-hexoWORKDIR /my-hexoRUN npm install hexo-cli -g &amp;amp;&amp;amp; npm install hexo-generator-sitemap --saveENTRYPOINT [ &quot;/bin/bash&quot;, &quot;-c&quot;,">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2020-06-21T20:09:35.859Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo, 로컬에서 도커 컨테이너로 실행하기">
<meta name="twitter:description" content="Dockerfile 작성먼저 Dockerfile을 작성한다. 12345678FROM node:ltsRUN mkdir /my-hexoWORKDIR /my-hexoRUN npm install hexo-cli -g &amp;amp;&amp;amp; npm install hexo-generator-sitemap --saveENTRYPOINT [ &quot;/bin/bash&quot;, &quot;-c&quot;,">
    
    
        
          
              <link rel="shortcut icon" href="/images/p_favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/p_favicon.ico" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/p_favicon.ico">
          
        
    
    <!-- title -->
    <title>Hexo, 로컬에서 도커 컨테이너로 실행하기</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/categories/">Category</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/04/jpa-01-overview/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/02/run-npm-with-docker/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://jheloper.github.io/2019/02/run-hexo-with-docker/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&text=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&title=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&is_video=false&description=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Hexo, 로컬에서 도커 컨테이너로 실행하기&body=Check out this article: https://jheloper.github.io/2019/02/run-hexo-with-docker/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&title=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&title=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&title=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&title=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&name=Hexo, 로컬에서 도커 컨테이너로 실행하기&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://jheloper.github.io/2019/02/run-hexo-with-docker/&t=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Dockerfile-작성"><span class="toc-number">1.</span> <span class="toc-text">Dockerfile 작성</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#도커-이미지-빌드-컨테이너-run-스크립트-작성"><span class="toc-number">2.</span> <span class="toc-text">도커 이미지 빌드, 컨테이너 run 스크립트 작성</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#실제로-사용할-때는"><span class="toc-number">3.</span> <span class="toc-text">실제로 사용할 때는?</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Hexo, 로컬에서 도커 컨테이너로 실행하기
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Jheloper's Dev Log</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-02-28T04:40:18.000Z" itemprop="datePublished">2019-02-28</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Docker/">Docker</a>, <a class="tag-link" href="/tags/Hexo/">Hexo</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="Dockerfile-작성"><a href="#Dockerfile-작성" class="headerlink" title="Dockerfile 작성"></a>Dockerfile 작성</h2><p>먼저 <code>Dockerfile</code>을 작성한다.</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:lts</span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mkdir /my-hexo</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /my-hexo</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> npm install hexo-cli -g &amp;&amp; npm install hexo-generator-sitemap --save</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [ <span class="string">"/bin/bash"</span>, <span class="string">"-c"</span>, <span class="string">"hexo clean &amp; hexo server"</span> ]</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">4000</span></span><br></pre></td></tr></table></figure>

<p>별다른 구성은 없다. 호스트에 있는 Hexo 디렉터리와 연결할 디렉터리를 생성하고, Hexo 실행에 필요한 <code>hexo-cli</code>와 <code>sitemap.xml</code> 생성에 필요한 <code>hexo-generator-sitemap</code>을 npm으로 설치. 그리고 컨테이너 실행 시 <code>hexo clean</code> 명령과 <code>hexo server</code> 명령을 자동으로 실행하도록 하고, 컨테이너의 포트는 4000번 포트를 노출시킨다, 정도?</p>
<h2 id="도커-이미지-빌드-컨테이너-run-스크립트-작성"><a href="#도커-이미지-빌드-컨테이너-run-스크립트-작성" class="headerlink" title="도커 이미지 빌드, 컨테이너 run 스크립트 작성"></a>도커 이미지 빌드, 컨테이너 run 스크립트 작성</h2><p>그리고 이제 도커 이미지를 빌드하고 컨테이너를 띄우면 되는데, 이마저도 귀찮으니 스크립트 파일로 만들자.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line"></span><br><span class="line">docker build -t my-hexo .</span><br></pre></td></tr></table></figure>

<p>위는 도커 이미지 빌드 파일을 실행하는 스크립트 내용이다. 별다른 내용은 없다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line"></span><br><span class="line">docker stop my-hexo-container</span><br><span class="line">docker rm my-hexo-container</span><br><span class="line">docker run -it -d --name my-hexo-container -v ~/jheloper.github.io:/my-hexo -p 9000:4000 my-hexo:latest</span><br></pre></td></tr></table></figure>

<p>그리고 이것은 위에서 만든 이미지로 컨테이너를 실행시키는 스크립트 내용이다. 기존에 만약 Hexo 컨테이너가 있을 경우 멈추고 삭제하는 부분을 추가했기 때문에 Hexo 컨테이너가 멈춰있거나 존재하지 않으면 에러 메시지가 출력되나 신경 쓰지 않아도 된다.</p>
<p>유의할 것은 이 스크립트 파일들에 실행 권한을 주는 것. <code>chmod</code> 명령을 실행하여 실행 권한을 주면 된다.</p>
<h2 id="실제로-사용할-때는"><a href="#실제로-사용할-때는" class="headerlink" title="실제로 사용할 때는?"></a>실제로 사용할 때는?</h2><p>실제로 사용할 때는 다음과 같이 사용하면 된다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 먼저 Dockerfile, build.sh, run.sh는 같은 디렉터리에 위치해야 하며 </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 해당 디렉터리가 현재 워킹 디렉터리인 상태에서 실행해야 한다</span></span><br><span class="line"></span><br><span class="line">~ ./build.sh</span><br><span class="line">...도커 이미지 생성 관련 내용 출력...</span><br><span class="line">~ docker images</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">my-hexo             latest              368241969ff0        1 minutes ago      918MB</span><br><span class="line">~ ./run.sh</span><br><span class="line">465f2422703a5aec2d4daaa7703a2480fb381e5740eaadcebbffeeb58d8a9ef4</span><br><span class="line">~ docker ps -a</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES</span><br><span class="line">465f2422703a        my-hexo:latest      "/bin/bash -c 'hexo …"   11 seconds ago      Up 9 seconds        0.0.0.0:9000-&gt;4000/tcp   my-hexo-container</span><br></pre></td></tr></table></figure>

<p>도커 컨테이너 실행을 확인했으면 브라우저를 열어 <code>http://localhost:9000</code>으로 접속하여 Hexo가 정상적으로 띄워졌는지 확인한다. 이것으로 끝.</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/categories/">Category</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Dockerfile-작성"><span class="toc-number">1.</span> <span class="toc-text">Dockerfile 작성</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#도커-이미지-빌드-컨테이너-run-스크립트-작성"><span class="toc-number">2.</span> <span class="toc-text">도커 이미지 빌드, 컨테이너 run 스크립트 작성</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#실제로-사용할-때는"><span class="toc-number">3.</span> <span class="toc-text">실제로 사용할 때는?</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://jheloper.github.io/2019/02/run-hexo-with-docker/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&text=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&title=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&is_video=false&description=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Hexo, 로컬에서 도커 컨테이너로 실행하기&body=Check out this article: https://jheloper.github.io/2019/02/run-hexo-with-docker/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&title=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&title=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&title=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&title=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://jheloper.github.io/2019/02/run-hexo-with-docker/&name=Hexo, 로컬에서 도커 컨테이너로 실행하기&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://jheloper.github.io/2019/02/run-hexo-with-docker/&t=Hexo, 로컬에서 도커 컨테이너로 실행하기"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2020
    Jheloper
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/categories/">Category</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

    <!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<!-- clipboard -->

  <script src="/lib/clipboard/clipboard.min.js"></script>
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>

<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-107872316-2', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'jheloper';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


</body>
</html>
